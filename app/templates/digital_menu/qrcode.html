{% extends "base.html" %}

{% block title %}QR Code - Mesa {{ table.table_number }} - {{ store_settings.store_name }}{% endblock %}

{% block content %}
<div class="content_section" style="margin-top: 30px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h2 style="font-size: 28px; color: #ffffff; margin: 0;">
            <i class="fa fa-qrcode"></i> QR Code - Mesa {{ table.table_number }}
        </h2>
        <a href="{{ url_for('pdv.tables') }}" class="btn btn-secondary">
            <i class="fa fa-arrow-left"></i> Voltar
        </a>
    </div>
    
    <div style="background: #1f1f1f; padding: 40px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.5); text-align: center; border: 2px solid #00E65D;">
        <h3 style="margin-bottom: 20px; color: #ffffff; font-weight: 700;">Cardápio Digital - Mesa {{ table.table_number }}</h3>
        
        <div style="margin: 30px 0;">
            <img src="data:image/png;base64,{{ qr_code }}" alt="QR Code Mesa {{ table.table_number }}" style="max-width: 400px; width: 100%; border: 10px solid #ffffff; border-radius: 8px; background: #ffffff;">
        </div>
        
        <div style="background: #333333; padding: 20px; border-radius: 8px; margin: 20px 0; border: 1px solid #00E65D;">
            <p style="margin-bottom: 10px; color: #00E65D;"><strong>Instruções:</strong></p>
            <p style="color: #ffffff; margin-bottom: 8px;">1. Imprima este QR Code e coloque na mesa</p>
            <p style="color: #ffffff; margin-bottom: 8px;">2. Clientes escaneiam com o celular</p>
            <p style="color: #ffffff; margin-bottom: 0;">3. Fazem pedidos diretamente pelo cardápio digital</p>
        </div>
        
        <div style="background: #0d0d0d; padding: 15px; border-radius: 8px; margin: 20px 0; border: 2px solid #00E65D;">
            <p style="margin: 0; font-size: 14px; color: #ffffff;">
                <strong style="color: #00E65D;">URL:</strong> <code style="color: #FFE500; background: #333333; padding: 4px 8px; border-radius: 4px;">{{ url }}</code>
            </p>
        </div>
        
        <div style="margin-top: 30px;">
            <button onclick="window.print()" class="btn btn-primary" style="margin-right: 10px;">
                <i class="fa fa-print"></i> Imprimir
            </button>
            <a href="{{ url }}" target="_blank" class="btn btn-success">
                <i class="fa fa-external-link"></i> Testar QR Code
            </a>
        </div>
    </div>
</div>

<style>
@media print {
    .top_nav, .header_main, .footer, .btn, .content_section > div:first-child {
        display: none !important;
    }
    .content_section {
        margin: 0 !important;
    }
    body {
        background: white !important;
    }
}
</style>
{% endblock %}
